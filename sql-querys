create table customers (
    id uuid primary key,
    name varchar(255),
    email varchar(255),
    address varchar(255),
    phone_number varchar(50)
);

create table orders (
    id uuid primary key,
    created_at timestamp,
    updated_at timestamp,
    currency varchar(10),
    idempotency_key varchar(255),
    status varchar(50),
    customer_id uuid,
    constraint fk_orders_customer foreign key (customer_id) references customers(id)
);

create table order_items (
    id uuid not null primary key,
    order_id uuid not null,
    sku varchar(100) not null,
    quantity numeric(4),
    unit_price numeric(18,2),
    constraint fk_orderitems_order foreign key (order_id) references orders(id)
);

create table payments (
    id uuid not null primary key,
    order_id uuid not null,
    card_token varchar(50) not null,
    payment_method varchar(50) not null,
    payment_status varchar(50) not null,
    amount numeric(18,2),
    constraint fk_payment_order foreign key (order_id) references orders(id)
);
